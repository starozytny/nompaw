{% extends 'user/layout/layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('user_blog') }}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>

    <style>
        .map-container {
            height: 500px;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .sidebar-sticky {
            position: sticky;
            top: 80px;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
        }
        .active-marker {
            filter: hue-rotate(120deg) brightness(1.3);
        }

        /* Conteneur vidéo responsive */
        figure video,
        .js-gallery-content video {
            width: 100%;
            max-width: 100%;
            height: auto;
            border-radius: 0.5rem;
            background: #000;
        }

        /* Amélioration des contrôles natifs */
        video::-webkit-media-controls-panel {
            background-image: linear-gradient(transparent, rgba(0,0,0,0.7)) !important;
        }

        video::-webkit-media-controls-play-button,
        video::-webkit-media-controls-timeline,
        video::-webkit-media-controls-current-time-display,
        video::-webkit-media-controls-time-remaining-display,
        video::-webkit-media-controls-mute-button,
        video::-webkit-media-controls-volume-slider,
        video::-webkit-media-controls-fullscreen-button {
            filter: brightness(1.2);
        }

        /* Container avec ratio 16:9 pour éviter le layout shift */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 100%; /* ratio 16:9 */
            background: #000;
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
    </style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('user_blog') }}
{% endblock %}
